/* ================================================= */
/* ROOT DESIGN TOKENS                                */
/* ================================================= */
:root {
  /* Font */
  --font-ui: 'Quicksand', system-ui, sans-serif;

  /* Base Colors */
  --bg-day: #eaf0ff;
  --bg-night: #0f1430;

  --panel-light: #ffffff;
  --panel-dark: #1a2045;

  --text-main: #2f3447;
  --text-soft: #6b7190;
  --text-night: #e9edff;

  --accent: #7fbf4d;
  --accent-dark: #5d9332;

  /* Spacing */
  --xs: 6px;
  --sm: 12px;
  --md: 20px;
  --lg: 32px;
  --xl: 48px;

  /* Radius */
  --r-sm: 14px;
  --r-md: 22px;
  --r-lg: 32px;

  /* Shadow */
  --shadow-soft: 0 10px 30px rgba(0,0,0,0.15);
  --shadow-deep: 0 20px 50px rgba(0,0,0,0.25);
}

/* ================================================= */
/* GLOBAL RESET (GAME MODE)                          */
/* ================================================= */
* {
  box-sizing: border-box;

  /* Disable text selection for game feel */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

html, body {
  margin: 0;
  padding: 0;
  font-family: var(--font-ui);
  font-weight: 500; /* ⬅️ penting utk Quicksand */
  background: var(--bg-day);
  color: var(--text-main);
  height: 100%;
  overflow: hidden;
}

/* ================================================= */
/* BACKGROUND LAYERS                                 */
/* ================================================= */
#night-sky,
#rain-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

/* Night sky */
#night-sky {
  opacity: 0;
  transition: opacity 1s ease;
}

body.night #night-sky {
  opacity: 1;
}

.stars {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(1px 1px at 20% 30%, #fff, transparent),
    radial-gradient(1px 1px at 70% 40%, #fff, transparent),
    radial-gradient(1px 1px at 40% 80%, #fff, transparent);
  background-size: 180px 180px;
  opacity: 0.8;
}

.clouds {
  position: absolute;
  inset: -10%;
  background:
    radial-gradient(circle at 30% 50%, rgba(255,255,255,0.12), transparent 50%),
    radial-gradient(circle at 70% 40%, rgba(255,255,255,0.08), transparent 60%);
  filter: blur(16px);
  animation: cloud-move 90s linear infinite;
}

@keyframes cloud-move {
  from { transform: translateX(-4%); }
  to { transform: translateX(4%); }
}

/* ================================================= */
/* SCENE SYSTEM                                      */
/* ================================================= */
.scene {
  position: absolute;
  inset: 0;
  display: none;
  z-index: 5;
}

.scene.active {
  display: flex;
}

/* ================================================= */
/* LOADING & START MENU                              */
/* ================================================= */
.loading-center,
.start-menu {
  margin: auto;
  background: var(--panel-light);
  padding: var(--xl);
  border-radius: var(--r-lg);
  box-shadow: var(--shadow-deep);
  text-align: center;
  width: min(420px, 90%);
}

.logo {
  font-size: 52px;
  font-weight: 700; /* ⬅️ tetap bold untuk judul */
  margin-bottom: var(--md);
}

.loading-bar {
  margin-top: var(--md);
  height: 10px;
  border-radius: 999px;
  background: #eee;
  overflow: hidden;
}

.loading-bar::after {
  content: "";
  display: block;
  width: 40%;
  height: 100%;
  background: linear-gradient(90deg, var(--accent), #b7e08a);
  animation: loading 1.4s infinite;
}

@keyframes loading {
  from { transform: translateX(-120%); }
  to { transform: translateX(260%); }
}

.start-menu button {
  display: block;
  width: 100%;
  height: 56px;
  margin: var(--sm) 0;
  font-size: 18px;
  font-weight: 700;
  border: none;
  border-radius: 999px;
  background: linear-gradient(var(--accent), var(--accent-dark));
  color: white;
  cursor: pointer;
  box-shadow: 0 8px 0 #4f7c2a;
  transition: transform .15s ease;
}

.start-menu button:active {
  transform: translateY(6px);
  box-shadow: 0 2px 0 #4f7c2a;
}

/* ================================================= */
/* WORLD SCENE                                       */
/* ================================================= */
#scene-world {
  flex-direction: column;
}

/* ================= HUD TOP ================= */
.hud-top {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: var(--md);
  padding: var(--md) var(--lg);
  z-index: 10;
}

/* Time & Weather */
.time-weather {
  background: var(--panel-light);
  padding: var(--sm) var(--md);
  border-radius: var(--r-md);
  box-shadow: var(--shadow-soft);
  font-weight: 700;
  font-size: 14px;
}

/* Player Progress */
.player-progress {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--xs);
}

.player-level {
  font-size: 14px;
  font-weight: 700;
  opacity: 0.85;
}

.exp-bar {
  width: 140px;
  height: 6px;
  background: rgba(0,0,0,0.1);
  border-radius: 999px;
  overflow: hidden;
}

.exp-fill {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--accent), #b7e08a);
  transition: width .4s ease;
}

.player-title {
  font-size: 12px;
  opacity: 0.7;
}

/* Resources */
.resources {
  background: var(--panel-light);
  padding: var(--sm) var(--md);
  border-radius: var(--r-md);
  box-shadow: var(--shadow-soft);
  font-weight: 700;
  display: flex;
  gap: var(--sm);
}

/* ================= WORLD AREA ================= */
.world-area {
  position: relative;
  flex: 1;
}

/* World objects */
.world-object {
  position: absolute;
  font-size: 50px;
  cursor: pointer;
  transition: transform .25s ease;
  filter: drop-shadow(0 6px 8px rgba(0,0,0,0.2));
}

.world-object:hover {
  transform: translateY(-8px) scale(1.1);
}

/* Priority tuning */
.house { top: 40%; left: 20%; font-size: 56px; }
.garden { top: 60%; left: 45%; font-size: 54px; }
.board { top: 32%; left: 65%; opacity: 0.85; }
.pond { top: 65%; left: 75%; opacity: 0.85; }

.locked {
  opacity: 0.35;
  filter: grayscale(1);
}

/* Window light */
.window-light {
  position: absolute;
  top: 18px;
  left: 22px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: radial-gradient(circle, #ffd966, #ffb703);
  opacity: 0;
}

body.night .window-light {
  opacity: 1;
}

/* Quest tracker */
.quest-tracker {
  position: absolute;
  bottom: var(--md);
  left: var(--md);
  background: var(--panel-light);
  padding: var(--sm) var(--md);
  border-radius: var(--r-md);
  box-shadow: var(--shadow-soft);
  font-size: 14px;
}

.quest-meta {
  margin-top: var(--xs);
  font-size: 12px;
  opacity: 0.7;
}

/* ================= HUD BOTTOM ================= */
.hud-bottom {
  display: flex;
  justify-content: center;
  gap: var(--md);
  padding: var(--md);
  z-index: 10;
}

.hud-bottom button {
  width: 64px;
  height: 64px;
  border-radius: var(--r-md);
  border: none;
  background: var(--panel-light);
  font-size: 26px;
  box-shadow: var(--shadow-soft);
  cursor: pointer;
}

/* ================================================= */
/* OVERLAYS                                          */
/* ================================================= */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  backdrop-filter: blur(8px);
  display: none;
  z-index: 20;
}

.overlay.active {
  display: flex;
}

.panel {
  margin: auto;
  background: var(--panel-light);
  padding: var(--lg);
  border-radius: var(--r-lg);
  width: min(420px, 90%);
  box-shadow: var(--shadow-deep);
}

.panel header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Inventory */
.inventory-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--sm);
  margin: var(--md) 0;
}

.slot {
  aspect-ratio: 1;
  background: #f1f1f1;
  border-radius: var(--r-md);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
}

/* ================================================= */
/* NIGHT MODE SAFETY                                 */
/* ================================================= */
body.night {
  background: var(--bg-night);
  color: var(--text-night);
}

body.night .panel,
body.night .time-weather,
body.night .resources,
body.night .quest-tracker,
body.night .hud-bottom button {
  background: var(--panel-dark);
  color: var(--text-night);
}

body.night .exp-bar {
  background: rgba(255,255,255,0.15);
}

/* ================================================= */
/* GLOBAL POPUP FEEDBACK                             */
/* ================================================= */
.popup {
  position: fixed;
  left: 50%;
  bottom: 20%;
  transform: translateX(-50%) translateY(10px);

  background: var(--panel-light);
  color: var(--text-main);
  padding: var(--sm) var(--lg);
  border-radius: var(--r-lg);
  box-shadow: var(--shadow-deep);

  font-weight: 700;
  font-size: 16px;

  opacity: 0;
  pointer-events: none;
  transition: opacity .3s ease, transform .3s ease;
  z-index: 30;
}

/* visible state */
.popup:not(.hidden) {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* night safety */
body.night .popup {
  background: var(--panel-dark);
  color: var(--text-night);
}

/* hidden helper */
.hidden {
  display: none;
}

/* ================================================= */
/* TIME / DATE / WEATHER READABILITY                 */
/* ================================================= */
.time-weather {
  display: flex;
  align-items: center;
  gap: 14px;
}

.time-weather span {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
}

#time::after {
  content: " (" attr(data-tz) ")";
  font-size: 12px;
  opacity: 0.65;
  margin-left: 6px;
}


/* ================================================= */
/* RESPONSIVE                                        */
/* ================================================= */
@media (max-width: 768px) {
  .logo { font-size: 42px; }

  .hud-top {
    grid-template-columns: 1fr;
    gap: var(--sm);
    text-align: center;
  }

  .player-progress {
    order: -1;
  }

  .world-object {
    font-size: 44px;
  }
}

/* ================================================= */
/* UI SCALE POLISH (SAFE OVERRIDE)                   */
/* ================================================= */

/* --- Start Menu Buttons --- */
.start-menu button {
  height: 75px;
  font-size: 40px;
}

/* --- HUD Top: Time / Date / Weather --- */
.time-weather {
  font-size: 24px;
}

.time-weather span {
  font-size: 24px;
}

/* timezone text */
#time::after {
  font-size: 24px;
}

/* --- Player Progress --- */
.player-level {
  font-size: 24px;
}

.player-title {
  font-size: 24px;
}

.exp-bar {
  width: 180px;
  height: 8px;
}

/* --- Resources --- */
.resources {
  font-size: 24px;
}

/* --- Quest Tracker --- */
.quest-tracker {
  font-size: 24px;
}

.quest-meta {
  font-size: 14px;
}

/* --- HUD Bottom Buttons --- */
.hud-bottom button {
  width: 72px;
  height: 72px;
  font-size: 30px;
}

/* --- Overlay Panels Text --- */
.panel {
  font-size: 24px;
}

.panel h2 {
  font-size: 32px;
}

/* ================================================= */
/* TITLE READABILITY FIX                             */
/* ================================================= */
.logo {
  color: #3a3f66;          /* lebih kontras tapi tetap soft */
  font-weight: 700;
  letter-spacing: 0.5px;
}

/* night mode safety */
body.night .logo {
  color: #2d2d3a;
}

/* ================================================= */
/* BUTTON FONT CONSISTENCY FIX                       */
/* ================================================= */
button {
  font-family: var(--font-ui);
  font-weight: 700;
  letter-spacing: 0.3px;
}

/* ================================================= */
/* MICRO MOTION — TITLE & BUTTONS                    */
/* ================================================= */

/* --- Keyframes --- */
@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* --- Scene enter animation --- */
.scene.active .logo {
  animation: fadeUp 0.8s ease-out both;
}

/* Stagger buttons */
.scene.active .start-menu button:nth-child(2) {
  animation: fadeUp 0.8s ease-out both;
  animation-delay: 0.15s;
}

.scene.active .start-menu button:nth-child(3) {
  animation: fadeUp 0.8s ease-out both;
  animation-delay: 0.3s;
}

.scene.active .start-menu button:nth-child(4) {
  animation: fadeUp 0.8s ease-out both;
  animation-delay: 0.45s;
}

/* --- Button hover micro interaction --- */
.start-menu button {
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease;
}

.start-menu button:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 0 #4f7c2a;
}

.start-menu button:active {
  transform: translateY(4px);
  box-shadow: 0 4px 0 #4f7c2a;
}

/* ================================================= */
/* GARDEN GROWTH VISUAL STATES                       */
/* ================================================= */

.garden {
  transition: transform 0.3s ease, filter 0.3s ease;
}

.garden.sprout {
  filter: saturate(1.1);
}

.garden.growing {
  filter: saturate(1.25);
  transform: scale(1.05);
}

.garden.alive {
  filter: saturate(1.4) brightness(1.05);
  transform: scale(1.1);
}

