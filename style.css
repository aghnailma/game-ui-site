/* ================================================= */
/* 1. RESET & CORE (DESKTOP FIRST)                   */
/* ================================================= */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

button, input, textarea {
  font-family: inherit;
}

html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  
  /* SETTING FONT UTAMA (UKURAN BESAR) */
  font-family: "Quicksand", sans-serif;
  background: #0f1424;
  color: #eaeaf0;
  font-size: 20px; /* Base font besar */
  font-weight: 600;
  line-height: 1.5;
}

:root {
  /* --- UPDATE RESEP KACA (Bening seperti Jendela Waktu) --- */
  
  /* 1. Background: Kita kurangi drastis dari 0.45 jadi 0.25 (Sangat Transparan) */
  --glass-bg: rgba(5, 15, 25, 0.35); 
  
  /* 2. Border: Kita tipiskan dari 0.3 jadi 0.15 biar tidak kaku */
  --glass-border: rgba(255, 255, 255, 0.25);
  
  /* 3. Blur: Kita kurangi dari 25px jadi 10px biar terasa 'ringan' */
  --glass-blur: blur(10px);
  
  /* --- JANGAN UBAH YANG LAIN --- */
  --accent: #86cf8c;
  --accent-hover: #6abf70;
  --radius-xl: 32px;
  --radius-lg: 24px;
}

/* ================================================= */
/* 2. BACKGROUND & LAYERS (DAY/NIGHT CYCLE)          */
/* ================================================= */

#sky-layer {
  position: fixed;
  inset: 0;
  z-index: 0;
  
  /* Default (Malam) - Biru Gelap Pekat */
  background: linear-gradient(to top, #1a213b, #0d111e);
  
  /* Transisi warna biar kalau ganti jam perubahannya halus (3 detik) */
  transition: background 3s ease-in-out;
}

/* --- TAMPILAN SIANG (DAY) --- */
body.day #sky-layer {
  /* Biru Langit Cerah */
  background: linear-gradient(to top, #87CEEB, #4ca1af);
}

/* --- TAMPILAN SORE (EVENING) --- */
body.evening #sky-layer {
  /* Gradasi Sunset (Ungu ke Oranye) */
  background: linear-gradient(to top, #ff9966, #ff5e62, #2e1437);
}

/* --- TAMPILAN MALAM (NIGHT) - OPTIONAL LEBIH GELAP --- */
body.night #sky-layer {
  background: radial-gradient(circle at 50% 100%, #1a213b, #05070a);
}

#weather-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
}

.scene {
  position: absolute;
  inset: 0;
  display: none;
  z-index: 2;
  flex-direction: column;
}

.scene.active { display: flex; }

.glass {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  
  /* Efek Bayangan + Kilau Putih Halus */
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.2), 
    inset 0 0 0 1px rgba(255, 255, 255, 0.1); 
    
  /* Transisi halus untuk SEMUA perubahan (Warna, Border, Shadow) */
  transition: all 0.3s ease;
}

/* --- INI BAGIAN BARUNYA (HOVER EFFECT) --- */
.glass:hover {
  /* 1. Background jadi sedikit lebih pekat/jelas (biar fokus) */
  background: rgba(15, 25, 45, 0.35); 
  
  /* 2. Border jadi lebih putih terang (menyala) */
  border-color: rgba(255, 255, 255, 0.4);
  
  /* 3. Bayangan jadi lebih tebal */
  box-shadow: 
    0 15px 40px rgba(0, 0, 0, 0.3), 
    inset 0 0 0 1px rgba(255, 255, 255, 0.2);
}

/* Styling Khusus untuk Jam/Cuaca (Biar lebih bening dari jendela lain) */
.hud-chip {
  /* 1. Bentuk Kapsul (Pill Shape) biar lebih manis */
  border-radius: 99px;
  
  /* 2. Background Lebih Transparan (0.25) dibanding jendela biasa (0.45) */
  background: rgba(15, 25, 45, 0.25);
  
  /* 3. Border Lebih Tipis & Halus */
  border: 1px solid rgba(255, 255, 255, 0.15);
  
  /* 4. Layout Rapi */
  display: inline-flex;
  align-items: center;
  gap: 15px; /* Jarak antar teks */
  padding: 10px 25px; /* Ruang napas di dalam kotak */
  
  /* 5. Bayangan tipis saja */
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  
  /* Reset properti glass global yang terlalu berat */
  backdrop-filter: blur(10px); /* Blur lebih sedikit biar ringan */
}

/* Efek Hover: Sedikit lebih terang kalau disentuh mouse */
.hud-chip:hover {
  background: rgba(15, 25, 45, 0.4);
  border-color: rgba(255, 255, 255, 0.3);
}

/* ================================================= */
/* 3. LOADING & START SCREEN                         */
/* ================================================= */

#scene-loading, #scene-start {
  justify-content: center;
  align-items: center;
}

.loading-card, .start-card {
  width: min(500px, 90%);
  padding: 60px 40px;
  border-radius: var(--radius-xl);
  text-align: center;
}

.game-title {
  font-size: 64px;
  font-weight: 800;
  color: #fff;
  margin-bottom: 30px;
  text-shadow: 0 4px 10px rgba(0,0,0,0.5);
}

.loading-bar {
  height: 12px;
  background: rgba(255,255,255,0.1);
  border-radius: 99px;
  overflow: hidden;
  margin-top: 20px;
}

.loading-fill {
  width: 0%;
  height: 100%;
  background: var(--accent);
  transition: width 0.1s linear;
}

.start-menu {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.start-menu button {
  height: 72px;
  font-size: 28px;
  font-weight: 700;
  color: #fff;
  background: var(--accent);
  border: none;
  border-radius: 99px;
  cursor: pointer;
  transition: transform 0.2s;
}

.start-menu button:hover {
  transform: scale(1.05);
  background: var(--accent-hover);
}

/* ================================================= */
/* 4. WORLD UI (HUD) - DESKTOP LAYOUT                */
/* ================================================= */

#scene-world {
  justify-content: space-between;
  padding: 30px;
}

/* HEADER */
.hud-top {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  z-index: 10;
}

.quest-panel {
  border-radius: var(--radius-lg);
  padding: 20px 30px;
  min-width: 300px;
}

.quest-header {
  font-size: 18px;
  color: var(--accent);
  margin-bottom: 8px;
  text-transform: uppercase;
}

.quest-name { font-size: 22px; font-weight: 700; }

/* FOOTER */
.hud-bottom {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  z-index: 10;
  gap: 20px;
}

/* Player Info */
.player-panel {
  padding: 20px 30px;
  border-radius: var(--radius-lg);
  min-width: 280px;
}

.player-level {
  font-size: 32px;
  font-weight: 800;
  color: var(--accent);
}

.exp-bar {
  height: 10px;
  background: rgba(255,255,255,0.1);
  border-radius: 99px;
  margin-top: 10px;
  overflow: hidden;
}

.exp-fill {
  width: 0%;
  height: 100%;
  background: var(--accent);
  transition: width 0.3s ease;
}

/* ================================================= */
/* üß≠ SIDEBAR MENU (VERTIKAL KIRI)                   */
/* ================================================= */

.action-dock {
  /* Ubah susunan jadi menurun (Vertikal) */
  display: flex;
  flex-direction: column; 
  gap: 20px; /* Jarak antar tombol */
  
  /* Posisi di Tengah-Kiri Layar */
  position: fixed;
  left: 30px;        /* Jarak dari pinggir kiri */
  top: 50%;          /* Titik tengah vertikal */
  bottom: auto;      /* Reset posisi bawah */
  
  /* Geser naik 50% dari ukurannya sendiri biar pas tengah */
  transform: translateY(-50%); 
  
  /* Styling Kotak Sidebar */
  padding: 25px 15px; /* Padding atas-bawah lebih besar */
  border-radius: 50px; /* Bentuk Kapsul Lonjong */
  width: fit-content;  /* Lebar menyesuaikan tombol */
  height: auto;
  
  z-index: 90; /* Di atas objek game */
}

/* Penyesuaian Tombol di dalam Sidebar */
.action-dock button {
  width: 60px;       /* Sedikit lebih kecil biar elegan */
  height: 60px;
  font-size: 28px;   /* Ukuran ikon */
  
  background: rgba(255,255,255,0.1);
  border: none;
  border-radius: 50%; /* Bulat penuh */
  color: #fff;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  
  /* Biar ikon pas di tengah */
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Efek Hover Keren (Geser ke Kanan dikit) */
.action-dock button:hover {
  background: #fff;
  color: #0f1424;
  transform: translateX(5px) scale(1.1); /* Geser kanan + membesar */
  box-shadow: 5px 0 15px rgba(255, 255, 255, 0.3);
}
/* Resources Kanan */
.resource-panel {
  padding: 16px 28px;
  border-radius: 99px;
  font-size: 22px;
  font-weight: 700;
  display: flex;
  gap: 25px;
}

/* ================================================= */
/* 5. GAME OBJECTS (LAYOUT LANDSCAPE)                */
/* ================================================= */

.world-area {
  position: absolute;
  inset: 0;
  z-index: 5;
}

.world-object {
  position: absolute;
  font-size: 120px; /* Ukuran Besar Default */
  cursor: pointer;
  filter: drop-shadow(0 15px 15px rgba(0,0,0,0.4));
  transition: transform 0.2s;
  animation: float 4s ease-in-out infinite;
}

.world-object:hover {
  transform: translate(-50%, -50%) scale(1.15) !important;
}

/* POSISI MENYEBAR (Kiri - Tengah - Kanan) */
.house {
  left: 20%; top: 45%;
  transform: translate(-50%, -50%);
}

/* Container Kebun (Wadahnya) */
.garden-area {
  position: absolute;
  left: 50%; 
  top: 65%;
  transform: translate(-50%, -50%);
  
  /* Susun 3 pot menyamping */
  display: flex;
  gap: 15px; /* Jarak antar pot */
  z-index: 5;
}

/* Update class ini di style.css */
.garden-slot {
  width: 70px;
  height: 70px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 15px;
  border: 2px solid rgba(255, 255, 255, 0.1);
  
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 32px;
  cursor: pointer;
  transition: transform 0.2s, background 0.2s;
  
  /* --- TAMBAHKAN 2 BARIS PENTING INI --- */
  position: relative; /* Agar timer & bar tidak kabur keluar kotak */
  overflow: hidden;   /* Agar bar hijaunya terpotong rapi mengikuti lengkungan sudut */
}

.garden-slot:hover {
  transform: scale(1.1) translateY(-5px);
  background: rgba(255, 255, 255, 0.1);
  border-color: var(--accent);
}

/* Efek Siap Panen (Bersinar) */
.garden-slot.ready {
  background: rgba(134, 207, 140, 0.2); /* Hijau transparan */
  box-shadow: 0 0 20px var(--accent);
  border-color: var(--accent);
  animation: bounceReady 1s infinite;
}

/* Teks Timer (Hitung Mundur) */
.slot-timer {
  position: absolute;
  top: -10px; /* Muncul melayang di atas pot */
  background: rgba(0, 0, 0, 0.7);
  color: #fff;
  font-size: 12px;
  padding: 2px 6px;
  border-radius: 10px;
  font-weight: bold;
  pointer-events: none; /* Supaya tetap bisa klik pot di bawahnya */
  z-index: 10;
  white-space: nowrap;
}

/* Update Loading Bar (Hapus Transition CSS) */
/* Update class ini juga */
.slot-loader {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 5px; /* Sedikit ditebalkan biar jelas */
  background: var(--accent); /* Warna Hijau */
  width: 0%;   /* Nanti diatur JS */
  z-index: 5;  /* Pastikan muncul di atas tanah */
  
  /* Hapus transition kalau masih ada, biar geraknya mulus diatur JS */
  transition: none; 
}

.pond {
  left: 80%; top: 50%; /* Pancingan di Kanan */
  transform: translate(-50%, -50%);
  animation-delay: 2s;
}

.board {
  left: 50%; top: 25%;
  transform: translate(-50%, -50%);
}

@keyframes float {
  0%, 100% { margin-top: 0; }
  50% { margin-top: -20px; }
}

/* ================================================= */
/* 6. DIALOG, POPUP & OVERLAYS                       */
/* ================================================= */

#dialog-overlay {
  position: fixed;
  inset: 0;
  z-index: 50;
  display: flex;
  flex-direction: column;
  justify-content: flex-end; 
  
  /* UBAH INI: */
  padding-bottom: 40px;  /* Dulu 160px. Kita turunkan lagi biar manis di bawah. */
  
  pointer-events: none;
}

#dialog-overlay.hidden { display: none; }

.dialog-box {
  pointer-events: auto;
  width: min(700px, 90%);
  margin: 0 auto;
  padding: 30px;
  border-radius: var(--radius-lg);
  border: 2px solid rgba(255,255,255,0.2);
  background: rgba(15, 20, 36, 0.95);
  position: relative;
  animation: slideUp 0.3s ease-out;
}

#dialog-title {
  color: var(--accent);
  font-size: 24px;
  font-weight: 800;
  margin-bottom: 10px;
  text-transform: uppercase;
}

#dialog-text {
  font-size: 22px;
  line-height: 1.6;
}

.dialog-arrow {
  position: absolute;
  right: 20px;
  bottom: 15px;
  color: var(--accent);
  font-size: 24px;
  background: none;
  border: none;
  animation: bounce 1s infinite;
  cursor: pointer;
}

/* ================================================= */
/* ‚ú® ELEGANT POPUP NOTIFICATION                     */
/* ================================================= */

.popup {
  position: fixed;
  top: 30px; /* Posisi di bawah menu bar atas */
  left: 50%;
  /* transform: translateX(-50%) -> DIPINDAH KE KEYFRAMES */
  
  /* --- TAMPILAN BARU YANG ELEGAN --- */
  background: rgba(20, 25, 40, 0.9); /* Latar lebih gelap & solid */
  backdrop-filter: blur(15px);       /* Efek kaca buram kuat */
  border: 2px solid var(--accent);   /* Garis pinggir warna hijau */
  
  /* Efek Bayangan Bercahaya (Glow) */
  box-shadow: 0 8px 32px -5px rgba(134, 207, 140, 0.6); 
  
  color: #fff;
  padding: 16px 32px;
  border-radius: 99px; /* Bulat penuh */
  
  font-size: 18px;
  font-weight: 700; /* Teks tebal */
  letter-spacing: 0.5px;
  
  z-index: 100;
  pointer-events: none;
  
  /* Flex biar bisa nambah ikon */
  display: flex;
  align-items: center;
  gap: 12px;
  
  /* Animasi Masuk yang Smooth (Pakai Bezier biar ada bounce dikit) */
  animation: popupSlideIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
  /* Pastikan status akhir animasi dipertahankan */
  animation-fill-mode: forwards; 
}

/* Menambahkan Ikon Sparkle Otomatis di depan teks */
.popup::before {
  content: "‚ú®";
  font-size: 22px;
}

/* Saat disembunyikan (dioverride oleh JS nanti) */
.popup.hidden {
  display: none;
  /* Reset animasi biar bisa diputar lagi nanti */
  animation: none;
}

/* Keyframes untuk animasi masuk dari atas */
@keyframes popupSlideIn {
  0% {
    opacity: 0;
    /* Mulai dari posisi agak atas dan kecil */
    transform: translate(-50%, -30px) scale(0.9);
  }
  100% {
    opacity: 1;
    /* Berhenti di posisi normal */
    transform: translate(-50%, 0) scale(1);
  }
}

.overlay {
  position: fixed;
  inset: 0;
  margin: auto;
  
  /* --- UBAH DARI 500px JADI 850px --- */
  width: min(850px, 90%); 
  /* ---------------------------------- */
  
  height: fit-content;
  max-height: 90vh; /* Jaga-jaga biar gak lebih tinggi dari layar */
  padding: 40px;
  border-radius: var(--radius-xl);
  z-index: 60;
  display: none;
  flex-direction: column;
  gap: 20px;
}

.overlay.active { display: flex; }

/* ANIMASI UI */
@keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(5px); } }

/* ================================================= */
/* 7. SISTEM MOBILE (LANDSCAPE ENFORCED)             */
/* ================================================= */

#rotate-warning {
  display: none; /* Default sembunyi */
  position: fixed;
  inset: 0;
  background: #0f1424;
  z-index: 9999;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 20px;
}

/* KITA BESARKAN UKURANNYA DI SINI */
.rotate-icon { 
  font-size: 80px; /* Ikon HP Besar */
  margin-bottom: 20px; 
  color: #fff;
  
  /* Pastikan nama animasi ini SAMA dengan @keyframes di bawah */
  animation: putarHape 2.5s infinite ease-in-out; 
}

.rotate-text h2 { 
  font-size: 24px; 
  color: var(--accent); 
  margin-bottom: 10px; 
}

.rotate-text p {
  font-size: 16px;
  color: #c4cce6;
  max-width: 300px;
  margin: 0 auto;
}

/* Definisikan Gerakannya */
@keyframes putarHape {
  0% { transform: rotate(0deg); }       /* Posisi Berdiri */
  40% { transform: rotate(-90deg); }    /* Miring ke Kiri (Landscape) */
  60% { transform: rotate(-90deg); }    /* Tahan sebentar... */
  100% { transform: rotate(0deg); }     /* Balik lagi */
}

/* ================================================= */
/* LOGIKA MUNCULKAN PERINGATAN                       */
/* ================================================= */

/* Jika HP posisi BERDIRI (Portrait) -> Munculkan Warning */
@media screen and (orientation: portrait) {
  #rotate-warning { 
    display: flex !important; /* Pakai !important biar maksa muncul */
  }
  
  /* Blur background game-nya */
  .scene { 
    filter: blur(10px); 
  }
}

/* Efek saat tanaman siap panen */
.world-object.ready {
  filter: drop-shadow(0 0 15px #ffd700); /* Bersinar emas */
  transform: translate(-50%, -50%) scale(1.1);
  animation: bounceReady 1s infinite;
}

@keyframes bounceReady {
  0%, 100% { transform: translate(-50%, -50%) scale(1.1); }
  50% { transform: translate(-50%, -50%) scale(1.2); }
}

/* ================================================= */
/* üîÑ COOL SAVE INDICATOR (AUTO-SAVE SPINNER)        */
/* ================================================= */

#save-indicator {
  position: fixed;
  top: 120px;   /* Sejajar dengan menu atas */
  left: 30px; /* Di pojok kanan */
  z-index: 95; /* Di atas objek dunia */
  
  /* Tampilan kotak kaca kecil */
  width: 50px;
  height: 50px;
  border-radius: 50%; /* Bulat */
  display: flex;
  justify-content: center;
  align-items: center;
  
  /* Default: Sembunyi (Transparan) */
  opacity: 0;
  transform: scale(0.8); /* Sedikit kecil saat sembunyi */
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
}

/* Class yang ditambahkan JS saat sedang nge-save */
#save-indicator.saving {
  opacity: 1;
  transform: scale(1); /* Muncul normal */
}

/* ANIMASI SPINNER MELINGKAR */
.save-spinner {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  
  /* Trik membuat spinner: Border transparan + 1 sisi berwarna */
  border: 3px solid rgba(255, 255, 255, 0.1); /* Jalur redup */
  border-top-color: var(--accent);          /* Bagian yang muter (Hijau) */
  
  /* Efek Glow/Bercahaya */
  box-shadow: 0 0 15px var(--accent);
  
  /* Animasi berputar selamanya */
  animation: spinSave 0.8s linear infinite;
}

@keyframes spinSave {
  to { transform: rotate(360deg); }
}

/* ================================================= */
/* üõå SLEEP SYSTEM & CURTAIN                         */
/* ================================================= */

/* Layar Hitam Penutup */
.curtain {
  position: fixed;
  inset: 0;
  background: #000;
  z-index: 999; /* Paling atas menutupi segalanya */
  opacity: 0;   /* Default transparan */
  pointer-events: none; /* Tembus pandang kalau tidak aktif */
  transition: opacity 1.5s ease-in-out; /* Animasi redup pelan 1.5 detik */
}

.curtain.active {
  opacity: 1; /* Jadi hitam pekat */
  pointer-events: auto; /* Memblokir klik player */
}

/* Tombol Tidur Spesial */
.btn-sleep {
  background: var(--accent);
  color: #fff;
  border: none;
  padding: 15px;
  font-size: 20px;
  font-weight: 700;
  border-radius: 99px;
  margin: 20px 0;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(134, 207, 140, 0.4);
  transition: transform 0.2s;
}

.btn-sleep:hover {
  transform: scale(1.05);
  background: var(--accent-hover);
}

/* ================================================= */
/* üö™ TOMBOL KELUAR (SECONDARY BUTTON)               */
/* ================================================= */

/* Target semua tombol yang fungsinya menutup overlay */
button[data-close] {
  background: transparent; /* Latar transparan */
  border: 2px solid rgba(255, 255, 255, 0.2); /* Garis tepi tipis */
  color: #c4cce6; /* Warna teks agak abu (soft) */
  
  padding: 12px 24px;
  font-size: 16px;
  font-weight: 600;
  border-radius: 99px; /* Bulat penuh */
  
  cursor: pointer;
  transition: all 0.2s ease;
  margin-top: 10px;
  width: 100%; /* Lebar penuh biar rapi */
}

/* Efek saat diarahkan mouse */
button[data-close]:hover {
  background: rgba(255, 255, 255, 0.1); /* Isi sedikit warna putih */
  border-color: #fff; /* Garis jadi putih terang */
  color: #fff; /* Teks jadi putih terang */
  transform: translateY(-2px); /* Naik sedikit */
}

/* Opsional: Biar tombol Tidur dan Keluar sejajar rapi */
#overlay-home button {
  display: block;
  width: 100%;
}

/* ================================================= */
/* üéí INVENTORY GRID SYSTEM                          */
/* ================================================= */

.inv-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 20px;
  width: 100%;
  margin: 10px 0;
  
  max-height: 60vh;
  
  /* --- UBAH DARI 60px JADI 120px --- */
  padding-top: 120px; /* Ruang ekstra besar biar tooltip aman */
  /* ---------------------------------- */
  
  padding-bottom: 20px;
  padding-left: 20px;
  padding-right: 20px;
  
  overflow-y: auto;
}

.inv-item {
  position: relative;
  
  /* --- HAPUS BARIS INI: --- */
  /* height: 80px; */ 
  
  /* --- GANTI DENGAN INI: --- */
  aspect-ratio: 1 / 1;  /* Memaksa lebar dan tinggi selalu sama (Kotak) */
  width: 100%;          /* Mengisi penuh kolom grid */
  /* ------------------------ */
  
  border-radius: 16px; /* Tetap melengkung sedikit biar modern */
  display: flex;
  justify-content: center;
  align-items: center;
  background: rgba(255,255,255,0.05);
  cursor: pointer;
  transition: transform 0.2s, background 0.2s;
}

.inv-item:hover {
  transform: translateY(-5px);
  background: rgba(255,255,255,0.15);
  border: 1px solid var(--accent);
}

.inv-icon {
  font-size: 32px;
}

.inv-qty {
  position: absolute;
  bottom: 5px;
  right: 8px;
  font-size: 14px;
  font-weight: 700;
  color: var(--accent);
}

/* Tooltip Keren (Muncul saat Hover) */
.inv-tooltip {
  position: absolute;
  bottom: 110%; /* Muncul di atas item */
  left: 50%;
  transform: translateX(-50%);
  background: #0f1424;
  border: 1px solid var(--accent);
  padding: 8px 12px;
  border-radius: 8px;
  width: 140px;
  text-align: center;
  font-size: 12px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s;
  z-index: 10;
  box-shadow: 0 4px 10px rgba(0,0,0,0.5);
}

.inv-item:hover .inv-tooltip {
  opacity: 1;
}

/* ================================================= */
/* üçÇ EMPTY STATE (SAAT TAS KOSONG)                  */
/* ================================================= */

.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 40px 20px;
  width: 100%;
  color: var(--text-soft); /* Warna abu lembut */
  grid-column: 1 / -1; /* Memaksa elemen melebar penuh (mengabaikan kolom grid) */
  height: 100%;        /* Biar tinggi memenuhi kotak */
}

.empty-icon {
  font-size: 64px; /* Ikon Besar */
  margin-bottom: 15px;
  opacity: 0.8;
}

.empty-title {
  font-size: 20px;
  font-weight: 700;
  color: #fff;
  margin-bottom: 8px;
}

.empty-desc {
  font-size: 14px;
  line-height: 1.6;
  opacity: 0.7;
}

/* ================================================= */
/* üå± GROWTH BAR (Indikator Tumbuh)                  */
/* ================================================= */

.growth-container {
  position: absolute;
  bottom: 0px; /* Posisi di kaki ikon */
  left: 50%;
  transform: translateX(-50%);
  
  width: 60px; /* Lebar bar */
  height: 8px; /* Tinggi bar */
  background: rgba(0,0,0,0.5); /* Latar gelap */
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.2);
}

.growth-fill {
  height: 100%;
  background: var(--accent); /* Warna Hijau */
  width: 0%; /* Mulai dari kosong */
  box-shadow: 0 0 10px var(--accent);
  
  /* Animasi Transisi (Nanti di-trigger JS) */
  transition: width 5s linear; 
}

/* ================================================= */
/* üöö MARKET & SHOP STYLING                          */
/* ================================================= */

/* Posisi Truk (Di Tengah Atas, bekas Papan Quest) */
.market {
  left: 50%; 
  top: 30%;
  transform: translate(-50%, -50%);
  /* Animasi goyang dikit biar lucu */
  animation: shakeTruck 3s ease-in-out infinite; 
}

@keyframes shakeTruck {
  /* Tambahkan scaleX(-1) di semua baris transform untuk membalik arah truk */
  0%, 100% { transform: translate(-50%, -50%) scaleX(-1) rotate(0deg); }
  25% { transform: translate(-50%, -50%) scaleX(-1) rotate(-3deg); }
  75% { transform: translate(-50%, -50%) scaleX(-1) rotate(3deg); }
}

/* Dan update hover-nya juga biar gak kebalik lagi pas disentuh */
.market:hover {
  transform: translate(-50%, -50%) scaleX(-1) scale(1.15) !important;
}

/* Grid Toko (Mirip Inventory tapi ada tombol Jual) */
.shop-grid {
  display: flex;
  flex-direction: column; /* List memanjang ke bawah */
  gap: 15px;
  max-height: 50vh;
  overflow-y: auto;
  margin: 20px 0;
}

.shop-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(255,255,255,0.05);
  padding: 15px 20px;
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.1);
}

.shop-info {
  display: flex;
  align-items: center;
  gap: 15px;
  text-align: left;
}

.shop-icon { font-size: 32px; }

/* Tombol Jual */
.btn-sell {
  background: var(--accent);
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 99px;
  font-weight: 700;
  cursor: pointer;
  transition: transform 0.2s;
}

.btn-sell:hover {
  transform: scale(1.1);
  background: var(--accent-hover);
  box-shadow: 0 0 15px var(--accent);
}

.btn-sell:disabled {
  background: #555;
  cursor: not-allowed;
  opacity: 0.5;
  transform: none;
  box-shadow: none;
}

/* ================================================= */
/* ‚öôÔ∏è SETTINGS UI                                    */
/* ================================================= */

.settings-section {
  width: 100%;
  text-align: left;
  margin-bottom: 10px;
}

.settings-section h3 {
  color: var(--accent);
  margin-bottom: 15px;
  font-size: 18px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Styling Slider (Range Input) */
.range-group {
  margin-bottom: 15px;
}

.range-group label {
  display: block;
  font-size: 14px;
  margin-bottom: 5px;
  font-weight: 700;
}

input[type="range"] {
  width: 100%;
  height: 6px;
  background: rgba(255,255,255,0.2);
  border-radius: 5px;
  outline: none;
  -webkit-appearance: none; /* Wajib untuk Chrome/Safari */
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  background: var(--accent);
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 0 10px var(--accent);
}

/* Tombol Bahaya (Reset) */
.btn-danger {
  background: rgba(255, 50, 50, 0.2);
  border: 1px solid #ff4444;
  color: #ff4444;
  width: 100%;
  padding: 12px;
  border-radius: 99px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-danger:hover {
  background: #ff4444;
  color: #fff;
  box-shadow: 0 0 15px #ff4444;
}

/* ================================================= */
/* üé£ FISHING MINIGAME (TIMING BAR)                  */
/* ================================================= */

.fishing-bar-container {
  width: 100%;
  height: 40px;
  background: rgba(0,0,0,0.5);
  border: 2px solid rgba(255,255,255,0.2);
  border-radius: 99px;
  margin: 30px 0;
  position: relative;
  overflow: hidden; /* Biar jarum gak keluar batas */
}

/* Area Target (Hijau) */
.fish-target {
  position: absolute;
  top: 0;
  bottom: 0;
  background: var(--accent); /* Hijau */
  opacity: 0.8;
  width: 30%; /* Lebar default, nanti diacak JS */
  left: 35%;  /* Posisi default, nanti diacak JS */
  box-shadow: 0 0 15px var(--accent);
}

/* Jarum Penunjuk (Putih) */
.fish-cursor {
  position: absolute;
  top: -5px;
  bottom: -5px;
  width: 6px;
  background: #fff;
  left: 0%;
  box-shadow: 0 0 10px #fff;
  border-radius: 4px;
  
  /* Animasi Gerak Kiri-Kanan */
  animation: moveCursor 1.5s ease-in-out infinite alternate;
}

/* Saat game berhenti (ditarik), animasi distop lewat JS */
.fish-cursor.stopped {
  animation-play-state: paused;
}

@keyframes moveCursor {
  from { left: 2%; }
  to { left: 98%; }
}

/* Tombol Aksi Besar */
.btn-primary-action {
  background: var(--accent);
  color: #fff;
  border: none;
  padding: 15px 40px;
  font-size: 24px;
  font-weight: 800;
  border-radius: 99px;
  cursor: pointer;
  box-shadow: 0 5px 20px rgba(134, 207, 140, 0.4);
  transition: transform 0.1s;
}

.btn-primary-action:active {
  transform: scale(0.95);
}

.btn-secondary-action {
  background: transparent;
  color: #aaa;
  border: none;
  margin-top: 15px;
  cursor: pointer;
  font-size: 16px;
  text-decoration: underline;
}

/* ================================================= */
/* üé£ PERBAIKAN TAMPILAN MINIGAME (JADI KARTU)       */
/* ================================================= */

/* 1. Container Utama: Buat jadi Flex Center biar kartu di tengah */
#scene-minigame {
  display: none;
  justify-content: center;
  align-items: center;
  
  /* --- UBAH BAGIAN INI --- */
  /* Pakai warna Putih (255,255,255) yang sangat transparan (0.08) */
  background: rgba(255, 255, 255, 0.01);
  
  /* Perkuat blurnya biar makin kerasa "kaca tebal" */
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px); /* Wajib untuk Safari/iPhone */
  
  /* Tambahan: Sedikit efek terang di pinggiran biar makin 'glassy' */
  box-shadow: inset 0 0 200px rgba(255,255,255,0.1);
  /* ------------------------ */
}

/* WAJIB: Pastikan ini ada biar display flex jalan pas aktif */
#scene-minigame.active {
  display: flex; 
}

/* 2. Kartu Minigame: Batasi ukurannya */
.minigame-card {
  width: min(600px, 90%); /* Lebar maks 600px atau 90% layar HP */
  padding: 40px;
  border-radius: var(--radius-xl);
  text-align: center;
  box-shadow: 0 20px 50px rgba(0,0,0,0.5); /* Bayangan tebal biar "pop" */
  
  /* Animasi Muncul (Zoom In) */
  animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes popIn {
  from { transform: scale(0.8) translateY(20px); opacity: 0; }
  to { transform: scale(1) translateY(0); opacity: 1; }
}

/* Styling Judul Seksi Toko */
.shop-section-title {
  color: var(--accent);
  font-size: 16px;
  margin-top: 20px;
  margin-bottom: 10px;
  padding-bottom: 5px;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Tombol Beli (Biru Langit) */
.btn-buy {
  background: #4ca1af;
  color: #fff;
  border: none;
  padding: 8px 16px;
  border-radius: 99px;
  font-weight: 700;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-buy:hover {
  background: #66d3e6;
  transform: scale(1.05);
  box-shadow: 0 0 10px #4ca1af;
}

/* Tombol Beli kalau uang kurang (Abu-abu) */
.btn-buy.disabled {
  background: rgba(255,255,255,0.1);
  color: rgba(255,255,255,0.3);
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* ================================================= */
/* üõí SHOP STYLING BARU (BELI & JUAL)                */
/* ================================================= */

/* Judul Kategori (Jual Hasil Panen / Beli Bibit) */
.shop-section-title {
  color: var(--accent);
  font-size: 16px;
  font-weight: 700;
  margin-top: 25px;
  margin-bottom: 10px;
  padding-bottom: 5px;
  border-bottom: 1px solid rgba(255,255,255,0.1); /* Garis tipis */
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Tombol Beli (Warna Biru Laut) */
.btn-buy {
  background: #4ca1af; 
  color: #fff;
  border: none;
  padding: 8px 16px;
  border-radius: 99px;
  font-weight: 700;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 4px 10px rgba(76, 161, 175, 0.3);
}

.btn-buy:hover {
  background: #66d3e6;
  transform: scale(1.05);
  box-shadow: 0 0 15px #66d3e6;
}

/* Tombol Beli kalau Uang Kurang (Abu-abu mati) */
.btn-buy.disabled {
  background: rgba(255,255,255,0.1);
  color: rgba(255,255,255,0.3);
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* Tombol Makan di Inventory */
.btn-eat {
  position: absolute;
  bottom: -15px; /* Muncul agak di bawah item */
  left: 50%;
  transform: translateX(-50%) scale(0.8);
  
  background: #ff9f43; /* Warna Oranye Makanan */
  color: white;
  border: none;
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  opacity: 0; /* Default sembunyi */
  transition: all 0.2s;
  z-index: 5;
}

/* Muncul saat item di-hover */
.inv-item:hover .btn-eat {
  opacity: 1;
  bottom: 10px; /* Naik ke atas sedikit */
  transform: translateX(-50%) scale(1);
}

.btn-eat:hover {
  background: #ffb166;
  transform: translateX(-50%) scale(1.1);
}

/* MOBILE FIX: Di HP tidak ada hover, jadi tombol makan muncul terus */
@media (hover: none) {
  .btn-eat {
    opacity: 1;
    bottom: 5px;
    transform: translateX(-50%) scale(1);
    position: absolute;
  }
  /* Geser angka qty ke atas biar gak ketutupan tombol */
  .inv-qty {
    top: 5px;
    right: 5px;
    bottom: auto;
  }
}

/* Tombol Makan di Inventory */
.btn-eat {
  position: absolute;
  bottom: -15px; /* Muncul agak di bawah item */
  left: 50%;
  transform: translateX(-50%) scale(0.8);
  
  background: #ff9f43; /* Warna Oranye Makanan */
  color: white;
  border: none;
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  opacity: 0; /* Default sembunyi */
  transition: all 0.2s;
  z-index: 5;
}

/* Muncul saat item di-hover */
.inv-item:hover .btn-eat {
  opacity: 1;
  bottom: 10px; /* Naik ke atas sedikit */
  transform: translateX(-50%) scale(1);
}

.btn-eat:hover {
  background: #ffb166;
  transform: translateX(-50%) scale(1.1);
}

/* MOBILE FIX: Di HP tidak ada hover, jadi tombol makan muncul terus */
@media (hover: none) {
  .btn-eat {
    opacity: 1;
    bottom: 5px;
    transform: translateX(-50%) scale(1);
    position: absolute;
  }
  /* Geser angka qty ke atas biar gak ketutupan tombol */
  .inv-qty {
    top: 5px;
    right: 5px;
    bottom: auto;
  }
} 

/* Tombol Terkunci (Level Lock) */
.btn-locked {
  background: rgba(0, 0, 0, 0.3);
  color: #aaa;
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 8px 12px;
  border-radius: 99px;
  font-size: 12px;
  font-weight: 700;
  cursor: not-allowed; /* Kursor tanda larangan */
}

/* ================================================= */
/* ‚ú® FLOATING TEXT (ANGKA TERBANG)                  */
/* ================================================= */

.floating-text {
  position: fixed; /* Supaya bisa muncul di mana saja di layar */
  font-weight: 800;
  font-size: 24px;
  color: #fff;
  text-shadow: 0 2px 5px rgba(0,0,0,0.5); /* Bayangan biar terbaca jelas */
  pointer-events: none; /* Biar bisa ditembus klik mouse */
  z-index: 9999; /* Paling atas */
  
  /* Animasi Gerak */
  animation: floatUp 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

@keyframes floatUp {
  0% { 
    transform: translate(-50%, 0) scale(0.5); /* Mulai kecil */
    opacity: 0;
  }
  20% {
    transform: translate(-50%, -10px) scale(1.2); /* Membesar & Meletup */
    opacity: 1;
  }
  100% { 
    transform: translate(-50%, -60px) scale(1); /* Terbang ke atas & hilang */
    opacity: 0; 
  }
}

/* ================================================= */
/* ‚ú® PARTICLE EFFECTS (CONFETTI)                    */
/* ================================================= */

.particle {
  position: fixed;
  width: 8px;
  height: 8px;
  border-radius: 50%; /* Bulat */
  pointer-events: none;
  z-index: 9998; /* Di bawah teks terbang, di atas game */
  
  /* Animasi Partikel */
  animation: popParticle 1s ease-out forwards;
}

@keyframes popParticle {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }
  100% {
    /* Gerak acak (nanti diatur JS via variabel CSS) */
    transform: translate(var(--x), var(--y)) scale(0);
    opacity: 0;
  }
}

/* ================================================= */
/* üìñ JOURNAL & STATS STYLING                        */
/* ================================================= */

.journal-grid {
  display: grid;
  grid-template-columns: 1fr 1fr; /* 2 Kolom */
  gap: 15px;
  margin-top: 20px;
}

.stat-card {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  padding: 20px;
  display: flex;
  align-items: center;
  gap: 15px;
  transition: transform 0.2s;
}

.stat-card:hover {
  transform: translateY(-5px);
  background: rgba(255, 255, 255, 0.1);
  border-color: var(--accent);
}

.stat-icon {
  font-size: 32px;
  background: rgba(0,0,0,0.2);
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
}

.stat-info {
  text-align: left;
}

.stat-val {
  font-size: 24px;
  font-weight: 800;
  color: #fff;
}

.stat-label {
  font-size: 12px;
  opacity: 0.7;
  text-transform: uppercase;
  letter-spacing: 1px;
}

